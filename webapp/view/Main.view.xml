<mvc:View controllerName="zaf2final.controller.Main" 
		  xmlns:mvc="sap.ui.core.mvc" 
		  xmlns:table="sap.ui.table" 
		  xmlns="sap.m" 
		  xmlns:f="sap.ui.layout.form" 
		  xmlns:layout="sap.ui.layout" 
		  xmlns:c="sap.ui.core">
    <!-- <Page id="Main" showNavButton="false" title="{i18n>title}">
        <content> -->
            <!-- <c:Fragment id="headerFragment" fragmentName="zaf2final.view.Header" type="XML" /> -->
    <SplitApp id="split">
        <masterPages>
			<Page title="Modellübersicht">
				<Table id="modelTable" growing="true" growingThreshold="5" items="{ path: '/FahrradmodellSet', sorter: { path: 'Modellname' }  }"
					selectionChange="onSelectionChange" mode="SingleSelectMaster">
					<headerToolbar>
						<Toolbar height="auto" enabled="true" visible="true" width="auto" design="Solid">
							<content>
								<VBox width="100%">
                                    <Button text="Modell erstellen" press ="onCreateModel" id="addBtn" icon="sap-icon://add" width="100%" class="sapUiSmallMarginBottom"/>
									<SearchField placeholder="Modellname eingeben" showSearchButton="true" visible="true" width="auto" search="onSearch" />
									<HBox justifyContent="SpaceBetween">
										<Select autoAdjustWidth="true" id="filterItems" width="100%" change="onMainFilterChange" >
											<c:ListItem id="empty" text="" />
											<c:ListItem id="preis" text="Preis" />
											<c:ListItem id="bestand" text="Bestand" />
										</Select>
										
										<Button text="" icon="{= ${modelJsonButton>/btnIcon} === 'gt' ? 'sap-icon://slim-arrow-right' : 'sap-icon://slim-arrow-left' }" press="onToggleIcon" />
										<Input type="Number" />
									</HBox>

									<HBox width="100%" justifyContent="End" alignItems="Stretch">
									<Select autoAdjustWidth="false" id="filterCriteria" width="100%" change="onMainFilterItemsChange" >
										<layoutData>
											<FlexItemData growFactor="4" />
										</layoutData>
                                        <c:ListItem id="0" text="" />
                                        <c:ListItem id="1" text="Modellname" />
                                        <c:ListItem id="2" text="Preis" />
                                        <c:ListItem id="3" text="Bestand" />
                                    </Select>
                                    <Button width="10px" id="__button1" icon="sap-icon://sort-ascending" press="onMainSortAsc" />
                                    <Button width="10px" id="__button2" icon="sap-icon://sort-descending" press="onMainSortDesc" />
									<Button press="onMainClearFilter" icon="sap-icon://clear-filter"/>
									</HBox>
									
								</VBox>
							</content>
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column width="13rem" minScreenWidth="Tablet">
							<Text text="Modell"/>
						</Column>
						<Column width="7rem" demandPopin="true" minScreenWidth="Tablet">
							<Text text="Preis/Bestand"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem>
							<cells>
								<ObjectIdentifier title="{Modellname}"/>
								<VBox>
								<Text text="{Preis} €" class="TextTabelleMasterPage"/>
								<Text id ="test" text="{Bestand} Stk." class="TextTabelleMasterPage"/>
								</VBox>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</Page>
	</masterPages>
		<detailPages id="detailPage">
			
			<Page>
				 <headerContent>
					<Button press="onModelBuild" id="build" text="Fahrrad bauen" class="ButtonHeader"/>
                    <Button press="onStockManagement" id="stock" text="Lagerverwaltung" class="ButtonHeader"/>
					<Button press="onOrder" id="order" text="Bestellen" class="ButtonHeader"/>
				</headerContent>
				<Page id="dp1" showHeader="false" showFooter="true">
				
				
				</Page>
			</Page>
		</detailPages>
	</SplitApp>
</mvc:View>
