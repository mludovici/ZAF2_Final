<mvc:View controllerName="zaf2final.controller.Main" xmlns:mvc="sap.ui.core.mvc" xmlns:table="sap.ui.table" xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:layout="sap.ui.layout" xmlns:c="sap.ui.core">
    <Page id="Main" showNavButton="true" title="{i18n>title}">
        <content>
            <c:Fragment id="headerFragment" fragmentName="zaf2final.view.Header" type="XML" />
    <SplitApp id="split">
        <masterPages>
			<Page title="Modellübersicht">
				<Table id="modelTable" growing="true" growingThreshold="5" items="{ path: '/FahrradmodellSet', sorter: { path: 'Modellname' }  }"
					selectionChange="onSelectionChange" mode="SingleSelectMaster">
					<headerToolbar>
						<Toolbar height="auto" enabled="true" visible="true" width="auto" design="Solid">
							<content>
								<VBox width="100%">
									<SearchField placeholder="Suche" showSearchButton="true" visible="true" width="auto" search="onSearch"/>
									<HBox width="100%">
									<Select forceSelection="false" items="{/Categories}" change="onChange">
										<c:ListItem text="{Name}"/>
									</Select>
									<Button press="onClearFilter" icon="sap-icon://clear-filter"/>
									</HBox>
									<Button text="Modell Hinzufügen" press ="onCreateModel" id="addBtn" icon="sap-icon://add" width="100%"/>
								</VBox>
							</content>
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column width="13rem" minScreenWidth="Tablet">
							<Text text="Modell"/>
						</Column>
						<Column width="7rem" demandPopin="true" minScreenWidth="Tablet">
							<Text text="Preis/Bestand"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem>
							<cells>
								<ObjectIdentifier title="{Modellname}"/>
								<VBox>
								<Text text="{Preis} €" class="TextTabelleMasterPage"/>
								<Text text="{}" class="TextTabelleMasterPage"/>
								</VBox>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</Page>
	</masterPages>
		<detailPages id="detailPage">
			<Page id="dp1" showHeader="false" showFooter="true">
				<footer>
					<OverflowToolbar width="100%" height="46px" design="Auto" enabled="true" visible="true">
						<content>
							<ToolbarSpacer width=""/>
							<Text text="Warenkorbsumme: " /> 
							<Input showValueHelp="false" id="gesamt"  editable="false" visible="true" width="auto" valueHelpOnly="false" required="false"
												valueStateText="Invalid entry" maxLength="0"/>
						</content>
					</OverflowToolbar>
				</footer>
				<headerContent/>
			</Page>
		
		</detailPages>
	</SplitApp>
        </content>
    </Page>
</mvc:View>
